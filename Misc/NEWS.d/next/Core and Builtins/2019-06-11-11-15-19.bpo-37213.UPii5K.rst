Handle correctly negative line offsets in the peephole optimizer. Patch by
Pablo Galindo.
